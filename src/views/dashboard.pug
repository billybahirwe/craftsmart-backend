doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title CraftSmart Dashboard
    script(src='https://cdn.tailwindcss.com')
    script(src='https://unpkg.com/feather-icons')
    style.
      .toggle-switch .dot {
        transition: transform 0.3s ease;
      }
      .toggle-switch input:checked ~ .track {
        background-color: #4f46e5;
      }
      .toggle-switch input:checked ~ .track .dot {
        transform: translateX(20px);
      }

  body#body(class='bg-white text-gray-800')
    .min-h-screen.flex
      // Sidebar
      aside#sidebar(class='w-64 bg-white p-4 border-r border-gray-200 shadow-sm overflow-y-auto')
        .text-2xl.font-bold.text-blue-600.mb-6 CraftSmart
        nav(class='space-y-2 text-sm')
          a.flex.items-center.px-3.py-2.rounded(class='bg-blue-100 font-semibold text-blue-600')(href='/dashboard')
            i.w-4.h-4.mr-2(data-feather='home')
            | Home
          a.flex.items-center.px-3.py-2.rounded(class='hover:bg-blue-100')(href='/dashboard/projects')
            i.w-4.h-4.mr-2(data-feather='folder')
            | Projects
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/monitor')
            i.w-4.h-4.mr-2(data-feather='eye')
            | Job Monitor
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/messages')
            i.w-4.h-4.mr-2(data-feather='messages-circle')
            | Messages
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/reports')
            i.w-4.h-4.mr-2(data-feather='file-text')
            | Reports
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/blacklist')
            i.w-4.h-4.mr-2(data-feather='user-x')
            | Blacklist
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/analytics')
            i.w-4.h-4.mr-2(data-feather='bar-chart-2')
            | Analytics
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/settings')
            i.w-4.h-4.mr-2(data-feather='settings')
            | Settings
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/help')
            i.w-4.h-4.mr-2(data-feather='help-circle')
            | Help Center
          a.flex.items-center.px-3.py-2.rounded(class='hover\:bg-blue-100')(href='/dashboard/contact')
            i.w-4.h-4.mr-2(data-feather='mail')
            | Contact Us
          a.flex.items-center.px-3.py-2.text-red-600.rounded(class='hover\:bg-red-100')(href='/logout')
            i.w-4.h-4.mr-2(data-feather='log-out')
            | Log Out

      // Main
      main#main(class='flex-1 p-6 space-y-6')
        // Topbar
        #topbar(class='bg-white p-4 rounded shadow flex justify-between items-center')
          .w-full.max-w-md
            input(type='text', placeholder='Search...', class='w-full px-4 py-2 border rounded shadow-sm bg-gray-50 focus:outline-none')
          .flex.items-center(class='space-x-4 ml-4')
            // Toggle
            label.toggle-switch(class='relative flex items-center cursor-pointer')
              input#darkToggle.sr-only(type='checkbox', onchange='toggleDarkMode(this)')
              .track(class='w-11 h-6 bg-gray-300 rounded-full relative')
                .dot(class='absolute left-1 top-1 bg-white w-4 h-4 rounded-full')
            i.w-5.h-5.text-gray-600(data-feather='bell')
            .w-8.h-8.bg-gray-400.rounded-full

        // Dashboard Stats
        div(class='grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3')
          .bg-white.p-4.rounded.shadow.stat-card
            h3.text-lg.font-semibold Total Projects
            p.text-2xl.text-blue-600.font-bold 56
          .bg-white.p-4.rounded.shadow.stat-card
            h3.text-lg.font-semibold Ongoing Projects
            p.text-2xl.text-yellow-500.font-bold 12
          .bg-white.p-4.rounded.shadow.stat-card
            h3.text-lg.font-semibold Completed Projects
            p.text-2xl.text-green-500.font-bold 56

        // Widgets
        div(class='grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3')
          // Calendar
          .bg-white.p-4.rounded.shadow.widget
            h2.font-bold.mb-2 Calendar - July 2025
            div(class='grid grid-cols-7 text-center gap-1 font-medium text-gray-500 text-xs')
              div Sun
              div Mon
              div Tue
              div Wed
              div Thu
              div Fri
              div Sat
              div 29
              div 30
              div 1
              div 2
              div 3
              div 4
              div 5
              div 6
              div 7
              div 8
              div 9
              div 10
              div 11
              div 12
              div 13
              div 14
              div 15
              div 16
              div 17
              div 18
              div 19
              div 20
              div 21
              div 22
              div 23
              div 24
              div 25
              div 26
              div 27
              div 28
              div 29
              div 30
              div 31
              div 1
              div 2

          // Messages
          .bg-white.p-4.rounded.shadow.widget
            h2.font-bold.mb-2 Messages
            .space-y-2
              .flex.items-start(class='gap-3')
                .w-8.h-8.bg-blue-500.text-white.rounded-full.flex.items-center.justify-center C
                div
                  p.font-semibold CraftBot
                  p.text-sm.text-gray-600 Your report is ready.
              .flex.items-start(class='gap-3')
                .w-8.h-8.bg-green-500.text-white.rounded-full.flex.items-center.justify-center J
                div
                  p.font-semibold John
                  p.text-sm.text-gray-600 Hey, call me when free.

          // Reports
          .bg-white.p-4.rounded.shadow.widget
            h2.font-bold.mb-2 Reports
            ul(class='list-disc text-sm list-inside space-y-1')
              li 12 jobs posted today
              li 3 flagged reports
              li 1 critical alert

          // Notifications (added after reports)
          .bg-white.p-4.rounded.shadow.widget
            h2.font-bold.mb-2 Notifications
            div(class='divide-y divide-gray-200')
              div(class='py-2')
                p.font-semibold System maintenance at 3PM
                p(class='text-xs text-gray-500') 5m ago
              div(class='py-2')
                p.font-semibold New user sign-up
                p(class='text-xs text-gray-500') 15m ago

          // Daily Visits (added after notifications)
          .bg-white.p-4.rounded.shadow.widget
            h2.font-bold.mb-2 Daily Visits
            p.text-sm Total site visits for the day
            div(class='text-center mt-3')
              span(class='text-3xl font-bold text-blue-600') 1,546
              p(class='text-xs text-gray-500') Updated 10 min ago

    script.
      feather.replace();

      function toggleDarkMode(checkbox) {
        const isDark = checkbox.checked;
        const html = document.documentElement;
        const body = document.getElementById('body');
        const sidebar = document.getElementById('sidebar');
        const topbar = document.getElementById('topbar');
        const main = document.getElementById('main');

        if (isDark) {
          html.classList.add('dark');
          body.className = 'bg-gray-900 text-white transition-colors duration-300';
          sidebar.className = 'w-64 bg-gray-800 p-4 border-r border-gray-700 shadow-sm overflow-y-auto';
          topbar.className = 'bg-gray-800 p-4 rounded shadow flex justify-between items-center';
          main.className = 'flex-1 p-6 space-y-6';
          document.querySelectorAll('.widget, .stat-card').forEach(el => {
            el.classList.remove('bg-white');
            el.classList.add('bg-gray-700', 'text-white');
          });
        } else {
          html.classList.remove('dark');
          body.className = 'bg-white text-gray-800 transition-colors duration-300';
          sidebar.className = 'w-64 bg-white p-4 border-r border-gray-200 shadow-sm overflow-y-auto';
          topbar.className = 'bg-white p-4 rounded shadow flex justify-between items-center';
          main.className = 'flex-1 p-6 space-y-6';
          document.querySelectorAll('.widget, .stat-card').forEach(el => {
            el.classList.remove('bg-gray-700', 'text-white');
            el.classList.add('bg-white');
          });
        }
      }
