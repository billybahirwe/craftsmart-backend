doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    title Black List - CraftSmart
    script(src='https://cdn.tailwindcss.com')
    script(src='https://unpkg.com/feather-icons')
    script.
      tailwind.config = { darkMode: 'class' }
    style.
      .toggle-switch { transition: background-color 0.3s; }
      .toggle-switch .dot { transition: transform 0.3s; }
      .toggle-switch input:checked ~ .bg { background-color: #4f46e5; }
      .toggle-switch input:checked ~ .bg .dot { transform: translateX(20px); }

  body#body(class='bg-white text-gray-800')
    .min-h-screen.flex

      // Sidebar
      aside#sidebar(class='w-64 bg-white p-4 border-r border-gray-200 shadow-sm overflow-y-auto')
        .text-2xl.font-bold.text-blue-600.mb-6 CraftSmart
        nav(class='space-y-2 text-sm')
          a(href='/dashboard' class='flex items-center px-3 py-2 rounded bg-blue-100 font-semibold text-blue-600')
            i(data-feather='home' class='w-4 h-4 mr-2')
            | Home
          a(href='/dashboard/monitor' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='eye' class='w-4 h-4 mr-2')
            | Job Monitor
          a(href='/dashboard/projects' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='folder' class='w-4 h-4 mr-2')
            | Projects
          a(href='/dashboard/messages' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='message-circle' class='w-4 h-4 mr-2')
            | Messages
          a(href='/dashboard/reports' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='file-text' class='w-4 h-4 mr-2')
            | Reports
          a(href='/dashboard/blacklist' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='user-x' class='w-4 h-4 mr-2')
            | Black list
          a(href='/dashboard/analytics' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='bar-chart-2' class='w-4 h-4 mr-2')
            | Analytics
          a(href='/dashboard/help' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='help-circle' class='w-4 h-4 mr-2')
            | Help center
          a(href='/dashboard/contact' class='flex items-center px-3 py-2 rounded hover:bg-blue-100')
            i(data-feather='mail' class='w-4 h-4 mr-2')
            | Contact us
          a(href='/logout' class='flex items-center px-3 py-2 text-red-600 rounded hover:bg-red-100')
            i(data-feather='log-out' class='w-4 h-4 mr-2')
            | Log Out

      // Main Content
      main.flex-1.p-6.space-y-6
        // Top Bar
        .bg-white.p-4.rounded-lg.shadow.flex.justify-between.items-center(class='dark:bg-gray-800')
          .flex-1.flex.justify-center
            input(type='text' placeholder='Search...' class='w-full max-w-md px-4 py-2 border rounded shadow-sm bg-gray-50 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring focus:border-blue-300')
          .flex.items-center.space-x-4
            // Dark mode switch
            label.toggle-switch.relative.flex.items-center.cursor-pointer
              input#darkToggle.sr-only(type='checkbox' onchange='toggleDarkMode(this)')
              .bg.w-11.h-6.bg-gray-300.rounded-full.relative
                .dot.absolute.left-1.top-1.bg-white.w-4.h-4.rounded-full
            // Notification icon
            i(data-feather='bell' class='w-5 h-5 text-gray-600 dark:text-gray-300')
            // Profile avatar
            .w-8.h-8.bg-gray-300.rounded-full(class='dark:bg-gray-600')

        // Header Buttons
        .flex.justify-between.items-center
          h2.text-xl.font-semibold Black List
          .space-x-2
            button(class='bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700') Add to Black List
            button(class='bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700') Export to PDF

        // Black List Table
        .overflow-x-auto
          table(class='w-full text-left border border-gray-200 dark:border-gray-700')
            thead(class='bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-200')
              tr
                th.px-4.py-2 #
                th.px-4.py-2 Name
                th.px-4.py-2 Email
                th.px-4.py-2 Phone
                th.px-4.py-2 Reason
                th.px-4.py-2 Action
            tbody(class='bg-white dark:bg-gray-800')
              each user, index in [{name:'Karin', email:'karin@gmail.com', phone:'0762247887', reason:'Fraud'},{name:'Shabrina', email:'shabrina@gmail.com', phone:'0763324564', reason:'Spam'},{name:'Karin', email:'karin@gmail.com', phone:'072345637493', reason:'Scam'},{name:'Joel', email:'joel@gmail.com', phone:'0752354845', reason:'Unfinished Work'}]
                tr(class='border-t border-gray-200 dark:border-gray-700')
                  td.px-4.py-2 #{index + 1}
                  td.px-4.py-2 #{user.name}
                  td.px-4.py-2 #{user.email}
                  td.px-4.py-2 #{user.phone}
                  td.px-4.py-2 #{user.reason}
                  td.px-4.py-2.space-x-2
                    button(class='bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700') Recover
                    button(class='bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700') Delete

        // Pagination
        .flex.justify-between.text-sm.text-gray-600.mt-4(class='dark:text-gray-400')
          div Go To
          div 15
          div 20 / pages
          div Total: 4

    script.
      feather.replace();
      function toggleDarkMode(checkbox) {
        document.documentElement.classList.toggle('dark', checkbox.checked);
      }
      window.addEventListener('DOMContentLoaded', () => {
        const checkbox = document.getElementById('darkToggle');
        checkbox.checked = document.documentElement.classList.contains('dark');
      });

    // âœ… Add this at the very end
    script(src='/js/blacklist.js')
